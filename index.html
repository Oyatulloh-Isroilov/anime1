<!DOCTYPE html>
<html>

<head>
    <title>Video Parameters</title>
</head>

<body>
    <div id="video-params"></div>

    <script>
        const endpointUrl = 'https://cdn.amediatv.uz/api/season/v2/677e70c1fb5fb4d8eb4dcb7f';

        fetch(endpointUrl)
            .then(response => response.json())
            .then(data => {
                const videoParamsDiv = document.getElementById('video-params');

                const videos = data.seria;
                videos.forEach(video => {
                    const nomi = document.createElement('h2');
                    nomi.innerText = video.name.uz;
                    videoParamsDiv.appendChild(nomi);

                    // Video iframe
                    const vid = document.createElement('iframe');
                    vid.src = video.video;
                    vid.className = "one";
                    vid.setAttribute("allowfullscreen", true);
                    videoParamsDiv.appendChild(vid);

                    // Yuklab olish tugmasi
                    const downloadBtn = document.createElement('a');
                    downloadBtn.href = video.video;
                    downloadBtn.innerText = "⬇️ Yuklab olish";
                    downloadBtn.setAttribute("download", "");
                    downloadBtn.style.display = "block";
                    downloadBtn.style.marginTop = "10px";
                    downloadBtn.style.color = "blue";
                    downloadBtn.style.fontSize = "18px";
                    videoParamsDiv.appendChild(downloadBtn);
                });
            })
            .catch(error => console.error('Xatolik:', error));
    </script>
</body>

</html>

<style>
    .one {
        width: 600px;
        height: 320px;
        display: flex;
    }
</style>
